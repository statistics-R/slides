---
title: "An√°lisis de datos estad√≠sticos en R"
author: "Valentina Andrade"
date: "`r Sys.Date()`"
output:
  xaringan::moon_reader:
    self_contained: true
    lib_dir: "libs"
    chakra: "libs/remark-latest.min.js"
    css: ["default", "css/ath-slides.css", "css/ath-inferno-fonts.css", "css/animate.css"]
    seal: false
    includes:
      after_body: "html/insert-logo.html"
    anchor_sections: false
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
      ratio: "16:9"
      beforeInit: "libs/macros.js"
      navigation:
        scroll: false
editor_options: 
  chunk_output_type: console
---

```{r packages-data, include=FALSE}
pacman::p_load(tidyverse, sjPlot, ggsci, wordcloud2)
theme_set(theme_sjplot2())

```
```{r xaringanExtra, echo=FALSE}
xaringanExtra::use_xaringan_extra(c("tile_view", "animate_css", "share_again", "scribble", "frezeeframe", "editable", "progress_bar"))

xaringanExtra::use_extra_styles(
  hover_code_line = TRUE,         #<<
  mute_unhighlighted_code = TRUE  #<<
)
```


```{r xaringanExtra-clipboard, echo=FALSE}
htmltools::tagList(
  xaringanExtra::use_clipboard(
    button_text = "<i class=\"fa fa-clipboard\">Copiar c√≥digo</i>",
    success_text = "<i class=\"fa fa-check\" style=\"color: #90BE6D\">¬°Listo!</i>",
    error_text = "<i class=\"fa fa-times-circle\" style=\"color: #F94144\"></i>"
  ),
  rmarkdown::html_dependency_font_awesome()
)
```

```{r setup, include=FALSE}
knitr::opts_chunk$set(warning = FALSE, message = FALSE, eval = F, 
                      fig.retina = 3, fig.align = "center")
```

class: center middle main-title section-title-1 top-logo

.small[
# Tipos de datos
]

.class-info[
<br>
**Sesi√≥n N¬∞ 3**<br>
**An√°lisis de datos estad√≠sticos en R**
<br>

.pull-right.small[
**Profesora** Valentina Andrade de la Horra <br>
**Ayudantes** Dafne Jaime y Nicol√°s Godoy
.tiny[Universidad Alberto Hurtado<br>
]
]

]

---
class: title title-inv-1

# Contenidos Sesi√≥n 3

--

.box-2.medium.sp-after-half[**Tipos de datos en R**]

.small.box-2[**Relaci√≥n con los tipos de variables**]

--

.box-3.medium.sp-after-half[**Estructura de datos en R**]

--

.box-4.medium.sp-after-half[**Manipulaci√≥n de las estructuras de datos**]

???


---
class: center middle main-title section-title-1 top-logo
name: basics

# 1. Tipos de datos en R

---
class: title title-inv-1

# ¬øQue son los tipos de datos?

- Nos referimos a los tipos de datos a la clasificaci√≥n que un valor puede tener en R y junto con ello al tipo de operaciones que se podr√°n hacer con cada uno.

--

- Existen al menos 6 tipos de datos que encontraremos en R

--

- Cada tipo de dato en R, tiene su relaci√≥n con el nivel de medici√≥n de las variables

---

layout: true
class: title title-1
---
class: title title-inv-1

# Tipos de datos en R

.pull-left[
- character
- factor
- numeric
- integer 
- dbl-lbl
- logical
]

.pull-right[
![:scale 90%](https://github.com/learn-R/slides/raw/main/img/05/img.jpg)
]

---
class: title title-inv-1
# character

- Los datos tipo character tienen relaci√≥n con las variables categ√≥ricas

```{r}
nombres <- c("Valentina", "Nicol√°s", "Dafne")
```

- Para saber cu√°l es el tipo de una variable en espec√≠fico, utilizaremos la funci√≥n `class()` del paquete base de R

```{r echo=TRUE}
class(nombres)
```

---
class: title title-inv-1
# factor

- Los datos de tipo factor se relacionan directamente con las variables nominales u ordinales.

```{r factor, echo = T}
sexo <- factor(c("Mujer", "Hombre", "Mujer"))
```

- las variables factor se utilizan en caso de que exista un n√∫mero limitado de strings.

```{r class_factor, echo=TRUE}
class(sexo)
```

---
class: title title-inv-1
# numeric

- Los datos de tipo factor se relacionan directamente con las variables continuas, ya que estas se componen de n√∫meros decimales y enteros.

```{r numeric, echo = T}
edad <- c(26, 23, 24)
```

```{r echo=TRUE}
class(edad)
```

---
class: title title-inv-1
# integer

- Los datos integer tienen relaci√≥n con las variables discretas, ya que no pueden asumir valores decimales

```{r integer, echo = T}
folio <- 1:3
```

```{r echo=TRUE}
class(folio)
```

Existe otro tipo de dato, los **dbl-lbl** son un tipo de datos num√©ricos con una etiqueta asociada
---
class: title title-inv-1
# logical

- Este tipo de dato asume s√≥lo tres tipos de valores `TRUE`, `FALSE`y `NA`

```{r}
asistencia <- c(T,T,F)
```

```{r}
class(asistencia)
```

---
class: title title-inv-1
# logical

- Estos tipos de datos pueden transformarse a variables num√©ricas con la funci√≥n `as.numeric`, pero asumir√° valores 0 y 1

```{r}
asistencia_n <- as.numeric(asistencia)
```

```{r}
class(asistencia_n)
```

---
class: title title-inv-1
# Transformaci√≥n de datos

Si bien cada dato creado tiene su propia clase, existen funciones que pueden transformarlos, veamos algunos 

```{r}
as.logical() #transformaci√≥n a datos l√≥gicos
as.numeric() #transformaci√≥n a datos numericos
as.factor() #transformaci√≥n a datos tipo factor
as.character() #transformaci√≥n a datos tipo caracter 
```


---
layout: false
class: center middle section-title section-title-2 animated fadeIn

# 2. Tipos de estructuras en R

---
class: title title-inv-2
# ¬øQu√© son las estructuras de datos en R?

--

- Objetos agrupados y organizados

--

- Clasificados por **dimensi√≥n** y **composici√≥n**

--

- Nos especifican qu√© operaciones podemos realizar con cada estructura

--

- Veamos que tipos de estructuras podemos encontrar üïµ

???
Las estructuras en R son objetos agrupados y organizados, ya sea por su dimensi√≥n y/o su composici√≥n. Esta clasificaci√≥n de objetos nos espec√≠fica la composici√≥n de los datos y qu√© operaciones se pueden realizar con cada una. La forma m√°s sencilla de saber el tipo de estructura que es con la funci√≥n `str()` la cual devuelve un resumen de la estructura de un objeto.

---
class: title title-inv-2
# ¬øQu√© estructuras podemos encontrar?  

.pull-left[
Existen al menos cinco estructuras de datos en R: 

- Vectors
- List
- Matrix
- Arrays
- Data frames
]

.pull-right[
![:scale 80%](https://github.com/learn-R/slides/raw/main/img/05/datatypes.jpg)
]

---
class: title title-inv-2
# ¬°No olvidar!

Previo al detalle de los tipos de estructuras de datos en R, es necesario recordar que cada una se distinguira por su **dimensi√≥n** y **composici√≥n**, para ello es muy importante no olvidar los tipos de datos en R.

.pull.center.middle[
![:scale 50%](https://github.com/learn-R/slides/raw/main/img/05/estructura.png)
]

---
class: center middle main-title section-title-2 top-logo
name: basics

# Vectores

---
class: title title-inv-2
# Vectores

.pull-left[
Un vector es la estructura de datos m√°s com√∫n y b√°sica en R, estos se pueden clasificar en cinco tipos: `character`, `logic`, `interger`, `complex`, o `numeric`. 

¬øLes suena familiar?

]
.pull-right[
![:scale 90%](https://github.com/learn-R/slides/raw/main/img/05/vectors.png)
]
---
class: title title-inv-2
# Vectores

Estos son una combinaci√≥n de elementos **unidimensionales** y **homog√©neos** (no admite combinaciones de tipos de datos), se puede verificar si un objeto es un vector con la funci√≥n `is.vector()`. 

¬°Veamos si los objetos creados anteriormente son vectores!üßê

Pero antes debemos repasar algunos c√≥digos üíª ü§î

---
class: title title-inv-2
# ¬øC√≥mo explorar los datos?

Para explorar los datos tenemos las siguientes funciones (todas ellas del paquete base)

```{r}
sort() #devuelve los valores seleccionados
table() #arroja una frecuencia absoluta de los valores
unique() # devuelve los valores sin repetirlos
str() #nos entrega la estructura de los datos
typeof() # como class, nos dice el tipo de vector que es
length() # nos informa la longitud que tienen los vectores
```

¬°Ahora s√≠! continuemos ü§Øüíª
---
class: title title-inv-2
# Vectores: `numeric`

El tipo de vector `numeric` es aquel unico objeto de tipo numerico, como ejemplo uniremos el conjunto de valores (en este caso las edades), en un vector llamado edad

```{r}
edad <- c(26, 23, 24)

is.vector(edad)

class(edad)
```

---
class: title title-inv-2
# Vectores: `character`

Asimismo, el vector `character` es el que contiene s√≥lo un elemento de tipo car√°cter

```{r}
nombres <- c("Valentina", "Nicol√°s", "Dafne")

is.vector(nombres)

class(nombres)

```
---
class: title title-inv-2
# Vectores: `logic`

Los vectores `logic` corresponden a los objetos que tiene valores `TRUE`o `FALSE`, en este caso crearemos un vector l√≥gico llamado asistencia.

```{r}
asistencia <- c(T,T,F)

is.vector(asistencia)

class(asistencia)

```
---
class: title title-inv-2
# Vectores: `integer`

Recuerden que los tipos de datos `integer` son los que s√≥lo contienen n√∫meros enteros, por ello un vector integer solo tendr√° n√∫meros enteros.

```{r}
folio <- c(1:3)

is.vector(folio)

class(folio)
```
---
class: title title-inv-2
# Vectores y datos perdidos 


R reconoce los casos perdidos en los vectores, en R los casos perdidos pueden representarse como NA o NULL y son v√°lidos para todo tipo de vectores


```{r}
edad <- c(26, 23, 24, NA)
nombres <- c("Valentina", "Nicol√°s", "Dafne", NA)
asistencia <- c(T,T,F, NA)
folio <- c(1:3, NA)
```

---
class: title title-inv-2
# ¬øC√≥mo exploramos valores perdidos?

Para ello tenemos las siguientes funciones


```{r}
is.na(folio) #Indica los elementos de los vectores que representan datos faltantes
is.null(folio) # indica elementos que representan valores faltantes
anyNA(edad) # devuelve TRUE si el vector contiene alg√∫n valor faltante
```

---
class: title title-inv-2
# Recordemos

Entonces, los vectores son objetos unidimensionales y homog√©neos ¬øpodremos mezclarlos? ü§∑

--

¬°No podemos! ya que s√≥lo puede albergar un tipo de dato, veamos que pasa si los combinamos üïµ

```{r}
xx <- c(26, "Nicol√°s")
class(xx)
```

R crear√° un vector que pueda acomodar sus elementos. Esta conversi√≥n  se denomina *‚Äúcoerci√≥n‚Äù*.
---
class: title title-inv-2
# Selecci√≥n de vectores

Los elementos de los vectores pueden seleccionarse: por posici√≥n 

```{r}
nombres[4] # el cuarto elemento de names
nombres[-4] #todos los elementos de names, a excepci√≥n del 4
nombres[1:3] #los elementos desde 1 hasta 3
nombres[-(2:4)] #todos los elementos menos los de 2 hasta 4
nombres[c(1,3)] #el conjunto de elementos 1 y 3
```
---
class: title title-inv-2
# Selecci√≥n de vectores

Los elementos de los vectores pueden seleccionarse, por su valor

```{r}
edad[edad==26] #valores que sean igual a 26

edad[edad<24] #valores menores a 26, ac√° puede cambiar ya sea a <=, > o >=

edad[edad%in%c(23, 26)] # valores que pertenezcan al conjunto 23 y 26 a√±os
```

Para la selecci√≥n por valor es muy util que conozcamos ciertas condiciones 
---
class: title title-inv-2
# Condiciones y operadores 

En esta ocasi√≥n s√≥lo veremos operadores relacionales, pero detallaremos esto en la siguiente clase

--

Los operadores son s√≠mbolos que no son de uso exclusivo en R. Pero no todos tienen el mismo significado que en otros softwares.

---
class: title title-inv-2

# Operadores relacionales 

Se usan para hacer comparaciones. Cuando en la *Tabla 1* nos referimos a `un valor`, esto refiere tambi√©n a `variables`

| S√≠mbolo  | Funci√≥n |
|---------:|:--------|
| `<`      |  Un valor es menor que otro |
| `>`      |  Un valor es mayor que otro |
| `==`     |  Un valor es igual que otro [^1] |
| `<=`     |  Un valor es menor o igual que otro |
| `>=`     |  Un valor es mayor o igual que otro |
| `!=`     |  Un valor es distinto o diferente que otro|
| `%in%`   |  Un valor pertenece al conjunto designado [^2] |


---
class: title title-inv-2
# Tips

- ¬°Atenci√≥n! F√≠jate bien que `==` y `=` son distintos. En R `==` es indicar *"igual a"*, mientras que  `=` es *asignar* (sin√≥nimo de `<-`)

- El operador `%in%` es **muy utilizado**, sirve para indicar que algo est√° dentro de una cadena de valores. 

---
class: title title-inv-2
# Condicones y operadores

Un peque√±o adelanto de lo que veremos el pr√≥ximo lunes
.pull.center[
![:scale 60%](https://github.com/learn-R/slides/raw/main/img/02/01operad.png)
]
Figura 1: Resumen de operadores

---
class: center middle main-title section-title-3 top-logo

# list

---
class: title title-inv-3

# list

Los list o listas son elementos de distinta composici√≥n, estos son **heterog√©neros**  (admiten m√°s de un tipo y combinaci√≥n de dato, inclusive una lista puede almacenar otra lista) y **unidimensionales**

--

Estas propiedades los hace fundamentalmente diferentes de los vectores.

--

Para crear listas puede usar la funci√≥n `list()`. 

```{r}
lista <- list(folio, nombres, edad, asistencia)
str(lista)
```

---
class: title title-inv-3
# Selecci√≥n de elementos 

El contenido de los elementos de una lista se puede recuperar utilizando corchetes dobles.

```{r}
lista[[1]] #para ver elementos del primer vector (folio)
lista$nombres # para seleccionar elementos
lista[2] #para crear una nueva lista s√≥lo con el segundo elemento
```

---
class: center middle main-title section-title-4 top-logo
name: basics

# Matrix y Array
---
class:  title title-4
# Matrix

En R las matrices son una extensi√≥n de los vectores num√©ricos o de caracteres. No son un tipo de objeto separado sino que son vectores de **dos dimensiones** ( compuesto por filas y columnas) y  **homog√©neas** ya que al igual que con los vectores, los elementos de una matriz deben ser del mismo tipo de datos.

--

Para crear una matriz, usaremos la funci√≥n `matrix()`

```{r}
matriz <- matrix(edad, folio)
matriz
dim(matriz)
View(matriz)
```

---
class: title title-4
# Matrix

Puede verificar que las matrices son vectores con un atributo tipo matrix usando `class()` y `typeof()`.

```{r}
class(matriz)
typeof(matriz)
```

---
class: title title-4
# Selecci√≥n de elementos

Existen funciones que nos ayudaran a seleccionar elementos de una matriz

```{r}
matriz[2, ] #para seleccionar una fila
matriz[ ,4] #para seleccionar una columna
matriz[2,4] #para seleccionar una celda
```

---
class: title title-4
# Array

La diferencia entre una matriz y una estructura tipo array, es que el primero s√≥lo abarca dos dimensiones, mientras que los array abarcan tres dimensiones o m√°s, sin embargo son **homog√©neas**, ya que debe ser el mismo tipo de dato. Para ello utilizaremos la funci√≥n `array()`

```{r}
array <- array(1:3, c(2, 4, 6))
array
View(array)
class(array)
typeof(array)
```

---
class: center middle main-title section-title-5 top-logo

# Data frame
---
class: title title-5
# Data frame

Un marco de datos es un tipo de datos **bi dimensional** (con filas y columnas) y **heterog√©neo** (con combinaciones de tipos de datos) es la estructura de datos que solemos usar en estad√≠stica. Este es un tipo especial de lista, ya que en este cada elemento **debe tener la misma longitud** 

Se puede crear un nuevo marco de datos con la funci√≥n `data.frame()`

```{r}
datos <- data.frame(id = folio, nombres, edad, asistencia)
datos
```
---
class: title title-5
# Selecci√≥n de elementos

Para seleccionar elementos en un data frame
```{r}
datos[2, ] #para seleccionar una fila
datos[ ,4] #para seleccionar una columna
datos[2,4] #para seleccionar una celda
```

Para unir elementos

```{r}
cbind() # une columnas (formato ancho)
rbind() #une filas (formato largo)
```

---
class: title title-5
# Data frame

Funciones adicionales sobre marcos de datos:

```{r}
nrow(datos) # nos dice el n√∫mero de filas
ncol(datos) #nos dice el n√∫mero de columnas
head() # muestra las primeras 6 filas
tail() # muestra las √∫ltimas 6 filas
dim() # devuelve las dimensiones del marco de datos
str() # nos muestra la estructura (nombre, tipo y vista previa de datos)
names()
colnames() # ambos muestran los nombres de un marco de datos
sapply() # muestra la clase de cada columna en el marco de datos
View() #para visualizar el data frame
```

---
class: title title-5
# Data frame

La siguiente tabla resume las estructuras de datos unidimensionales y bidimensionales en R en relaci√≥n con la diversidad de tipos de datos que pueden contener.

.pull.center[
![:scale 60%](https://github.com/learn-R/slides/raw/main/img/05/table.png)
]

---
layout: false

.box-5[¬øY eso era?]

--

.box-inv-5[¬°Ahora si que si! Nos vemos el pr√≥ximo lunes]

.center[
![](https://github.com/learn-R/slides/raw/main/img/01/monster-inc-2.gif)]
---
layout: false
class: center middle main-title section-title-1 top-logo

.small[
# Tipos de datos en R
]

.class-info[
<br>
**Sesi√≥n N¬∞ 3**<br>
**An√°lisis de datos estad√≠sticos en R**
<br>

.pull-right.small[
**Profesora** Valentina Andrade de la Horra <br>
**Ayudantes** Dafne Jaime y Nicol√°s Godoy
.tiny[Universidad Alberto Hurtado<br>
]
]

]

???
https://c.tenor.com/7mxJp29REVkAAAAC/scaryfeet-monstersinc.gif
